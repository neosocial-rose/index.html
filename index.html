<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeoSocial_Rose | AI ile Viral Ä°Ã§erik Ãœret</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
    body { font-family: 'Plus Jakarta Sans', sans-serif; background:#fff; color:#0f172a; overflow-x:hidden; }
    .glass-nav { background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-bottom: 1px solid #f1f5f9; }
    .nav-link { font-size: 11px; font-weight: 800; text-transform: uppercase; color:#64748b; cursor:pointer; transition:0.2s; align-items:center; height:100%; user-select:none; }
    .nav-link:hover { color:#f43f5e; }
    .menu-dropdown { display:none; position:absolute; top:100%; left:50%; transform: translateX(-50%); background:#fff; border:1px solid #f1f5f9; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04); border-radius: 12px; padding: 16px; min-width: 240px; z-index: 5000; pointer-events:auto; }
    .lang-btn { font-size: 10px; font-weight: 800; padding: 6px 12px; border-radius: 8px; cursor:pointer; border:1px solid #e2e8f0; transition: all 0.2s; background:#fff; }
    .lang-btn.active { background:#f43f5e; color:#fff; border-color:#f43f5e; }
    .hero-box { border:2px dashed #e2e8f0; border-radius: 1.5rem; background:#f8fafc; overflow:hidden; display:flex; align-items:center; justify-content:center; }
    .hero-img { width:100%; height:100%; object-fit:cover; display:block; }
    #notification { display:none; position:fixed; bottom:20px; right:20px; z-index:9000; }
    .pro-input { background: #f8fafc; border: 2px solid #f1f5f9; border-radius: 1.5rem; padding: 1.5rem; width: 100%; font-weight: 700; color: #0f172a; outline: none; transition: 0.3s; }
    .pro-input:focus { border-color: #f43f5e; background: #fff; box-shadow: 0 10px 15px -3px rgba(244, 63, 94, 0.1); }
    .platform-card { border: 2px solid #f1f5f9; border-radius: 1.5rem; padding: 2rem; cursor: pointer; transition: all 0.3s; background: #fff; }
    .platform-card:hover { border-color:#f43f5e; transform: translateY(-4px); box-shadow: 0 20px 25px -5px rgba(244, 63, 94, 0.1); }
    .platform-card.disabled { opacity: 0.4; cursor: not-allowed; }
    .platform-card.disabled:hover { transform: none; border-color: #f1f5f9; }
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); z-index:9999; align-items:center; justify-content:center; }
    .modal.active { display:flex; }
    .modal-content { background:#fff; border-radius: 2rem; padding: 3rem; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; }
    .seo-badge { display:inline-block; padding: 4px 12px; border-radius: 8px; font-size: 10px; font-weight: 800; text-transform: uppercase; }
    .seo-excellent { background:#dcfce7; color:#166534; }
    .seo-good { background:#dbeafe; color:#1e40af; }
    .seo-average { background:#fef3c7; color:#92400e; }
    .seo-poor { background:#fee2e2; color:#991b1b; }
    .page-content { display:none; }
    .page-content.active { display:block; }
  </style>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1842835786064419" crossorigin="anonymous"></script>
</head>

<body class="min-h-screen flex flex-col">
  <div id="notification" class="bg-slate-900 text-white px-6 py-3 rounded-xl shadow-2xl text-xs font-bold uppercase tracking-widest"></div>

  <nav class="fixed top-0 w-full z-50 glass-nav h-20">
    <div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-between">
      <div class="flex items-center gap-10 h-full">
        <h1 class="text-xl font-black tracking-tighter cursor-pointer select-none" onclick="showPage('home')">
          NEOSOCIAL<span class="text-rose-500">_ROSE</span>
        </h1>
        <div class="hidden lg:flex items-center space-x-8 h-full">
          <span class="nav-link flex" onclick="showPage('home')" data-translate="nav_home">Anasayfa</span>
          <div class="relative h-full flex items-center">
            <span class="nav-link flex" id="nav-apps-btn" data-translate="nav_apps">Uygulamalar</span>
            <div class="menu-dropdown" id="nav-apps-dd">
              <p class="text-[10px] font-black text-center mb-3 text-rose-500" data-translate="coming_soon">YAKINDA</p>
              <div class="flex justify-around items-center gap-4">
                <div class="text-center"><i class="fab fa-apple text-slate-800 text-3xl"></i><p class="text-[8px] font-bold mt-1">App Store</p></div>
                <div class="text-center"><i class="fab fa-google-play text-slate-800 text-3xl"></i><p class="text-[8px] font-bold mt-1">Google Play</p></div>
              </div>
            </div>
          </div>
          <div class="relative h-full flex items-center">
            <span class="nav-link flex" id="nav-platform-btn" data-translate="nav_platform">Platform</span>
            <div class="menu-dropdown text-center" id="nav-platform-dd">
              <div class="bg-gradient-to-r from-rose-50 to-purple-50 p-3 rounded-lg">
                <p class="text-[10px] font-black text-slate-700 mb-1">ðŸ¤– POWERED BY</p>
                <p class="text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-purple-600">GEMINI AI</p>
              </div>
            </div>
          </div>
          <span class="nav-link flex" onclick="showPage('about')" data-translate="nav_about">HakkÄ±mÄ±zda</span>
          <span class="nav-link flex" onclick="showPage('faq')" data-translate="nav_faq">SSS</span>
          <span class="nav-link flex" onclick="showPage('contact')" data-translate="nav_contact">Ä°letiÅŸim</span>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <div class="flex gap-2">
          <button onclick="setLang('tr')" id="l-tr" class="lang-btn active">ðŸ‡¹ðŸ‡·</button>
          <button onclick="setLang('en')" id="l-en" class="lang-btn">ðŸ‡¬ðŸ‡§</button>
        </div>
        <button onclick="loginWithGoogle()" id="login-btn" class="bg-slate-900 text-white px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-800 transition shadow-lg">
          <span id="user-display" data-translate="login">GÄ°RÄ°Åž</span>
        </button>
        <button onclick="logoutGoogle()" id="logout-btn" class="hidden bg-white text-slate-900 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest border border-slate-200 hover:border-rose-500 hover:text-rose-500 transition shadow-lg">
          <span data-translate="logout">Ã‡IKIÅž</span>
        </button>
      </div>
    </div>
  </nav>

  <main class="flex-grow max-w-7xl mx-auto w-full px-4 pt-32 pb-20">
    <div id="page-home" class="page-content active">
      <section class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-14 h-80">
        <div class="hero-box"><img class="hero-img" src="hero.jpeg" onerror="this.style.display='none'"></div>
        <div class="ad-box flex flex-col items-center justify-center p-8 text-center bg-slate-50 rounded-[1.5rem] border border-slate-100">
          <span class="text-[9px] font-black text-amber-500 uppercase tracking-widest mb-4">Google AdSense</span>
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1842835786064419" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
        <div class="hero-box"><img class="hero-img" src="hero1.jpeg" onerror="this.style.display='none'"></div>
      </section>

      <section class="mb-14">
        <h2 class="text-2xl font-black text-center mb-8 uppercase tracking-wider" data-translate="select_platform">Platform SeÃ§in</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="platform-card" id="card-youtube" onclick="openGenerator('youtube')">
            <div class="flex items-center justify-between mb-4"><i class="fab fa-youtube text-red-600 text-4xl"></i><span id="badge-youtube" class="bg-rose-50 text-rose-500 px-3 py-1 rounded-full text-[9px] font-black">2/2</span></div>
            <h3 class="text-lg font-black mb-2">YouTube</h3>
          </div>
          <div class="platform-card" id="card-instagram" onclick="openGenerator('instagram')">
            <div class="flex items-center justify-between mb-4"><i class="fab fa-instagram text-pink-600 text-4xl"></i><span id="badge-instagram" class="bg-rose-50 text-rose-500 px-3 py-1 rounded-full text-[9px] font-black">2/2</span></div>
            <h3 class="text-lg font-black mb-2">Instagram</h3>
          </div>
          <div class="platform-card" id="card-tiktok" onclick="openGenerator('tiktok')">
            <div class="flex items-center justify-between mb-4"><i class="fab fa-tiktok text-slate-900 text-4xl"></i><span id="badge-tiktok" class="bg-rose-50 text-rose-500 px-3 py-1 rounded-full text-[9px] font-black">2/2</span></div>
            <h3 class="text-lg font-black mb-2">TikTok</h3>
          </div>
          <div class="platform-card" id="card-x" onclick="openGenerator('x')">
            <div class="flex items-center justify-between mb-4"><i class="fab fa-twitter text-blue-400 text-4xl"></i><span id="badge-x" class="bg-rose-50 text-rose-500 px-3 py-1 rounded-full text-[9px] font-black">2/2</span></div>
            <h3 class="text-lg font-black mb-2">X (Twitter)</h3>
          </div>
        </div>
      </section>
    </div>

    <div id="page-about" class="page-content max-w-4xl mx-auto"><div class="bg-white border-2 border-slate-100 rounded-[3rem] p-12 shadow-2xl"><h1 class="text-4xl font-black mb-8 text-center" data-translate="about_title">HakkÄ±mÄ±zda</h1><p class="text-center font-bold">NeoSocial Rose AI Content Generator</p></div></div>
    <div id="page-faq" class="page-content max-w-4xl mx-auto"><div class="bg-white border-2 border-slate-100 rounded-[3rem] p-12 shadow-2xl"><h1 class="text-4xl font-black mb-8 text-center" data-translate="faq_title">SSS</h1></div></div>
    <div id="page-contact" class="page-content max-w-4xl mx-auto"><div class="bg-white border-2 border-slate-100 rounded-[3rem] p-12 shadow-2xl"><h1 class="text-4xl font-black mb-8 text-center" data-translate="contact_title">Ä°letiÅŸim</h1></div></div>
  </main>

  <div id="generator-modal" class="modal">
    <div class="modal-content">
      <div class="flex justify-between items-center mb-8">
        <div><h2 id="modal-platform-title" class="text-2xl font-black uppercase"></h2><p class="text-xs text-slate-500 font-bold mt-1" data-translate="modal_subtitle">Viral iÃ§erik Ã¼retin</p></div>
        <button onclick="closeGenerator()" class="text-slate-400 hover:text-rose-500 text-2xl"><i class="fas fa-times"></i></button>
      </div>
      <div class="mb-6"><div class="flex justify-between items-center mb-4"><span class="text-xs font-black uppercase text-slate-400" data-translate="remaining_rights">Kalan Hak</span><span id="modal-credit-badge" class="bg-rose-50 text-rose-500 px-4 py-1.5 rounded-full text-[10px] font-black">2/2</span></div></div>
      <div class="space-y-6">
        <div><label class="block text-xs font-black uppercase text-slate-400 mb-3" data-translate="topic_label">Ä°Ã§erik Konusu</label><input type="text" id="modal-topic-input" class="pro-input" data-translate-placeholder="topic_placeholder" placeholder="Ã–rn: Futbol taktikleri"></div>
        <button onclick="generateContent()" id="modal-gen-btn" class="w-full bg-slate-900 text-white py-6 rounded-2xl font-black uppercase tracking-[0.25em] hover:bg-rose-500 transition shadow-xl active:scale-[0.98]"><span data-translate="generate_btn">ÃœRETÄ°MÄ° BAÅžLAT</span></button>
        <div id="modal-result-box" class="hidden space-y-4">
          <div class="flex items-center justify-between"><span class="text-xs font-black uppercase text-slate-400" data-translate="seo_score">SEO Skoru</span><span id="seo-score-badge" class="seo-badge seo-excellent">85/100</span></div>
          <div class="bg-slate-50 border-2 border-slate-100 rounded-[2rem] p-6 relative group"><p id="modal-result-text" class="text-base font-bold text-slate-800 leading-relaxed pr-12"></p><p id="modal-char-count" class="text-xs text-slate-400 font-bold mt-3">0 karakter</p><button onclick="copyModalContent()" class="absolute top-6 right-6 text-slate-400 hover:text-rose-500 transition text-xl"><i class="far fa-copy"></i></button></div>
        </div>
      </div>
    </div>
  </div>

  <footer class="bg-slate-900 text-slate-500 py-16 px-4 mt-auto">
    <div class="max-w-7xl mx-auto text-center"><h4 class="text-white text-xl mb-6 tracking-tighter">NEOSOCIAL<span class="text-rose-500">_ROSE</span></h4><p class="opacity-30 mt-4">Â© 2026 NeoSocial_Rose</p></div>
  </footer>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

  <script>
    // --- Ã‡eviriler ---
    const translations = {
      tr: {nav_home:"Anasayfa",nav_apps:"Uygulamalar",nav_platform:"Platform",nav_about:"HakkÄ±mÄ±zda",nav_faq:"SSS",nav_contact:"Ä°letiÅŸim",login:"GÄ°RÄ°Åž",logout:"Ã‡IKIÅž",coming_soon:"YAKINDA",select_platform:"Platform SeÃ§in",important_info:"Ã–nemli Bilgiler",about_title:"HakkÄ±mÄ±zda",faq_title:"SSS",contact_title:"Ä°letiÅŸim",modal_subtitle:"Viral iÃ§erik Ã¼retin",remaining_rights:"Kalan Hak",topic_label:"Konu",topic_placeholder:"Ã–rn: Futbol",generate_btn:"ÃœRET",seo_score:"SEO",notify_limit:"ðŸŒ™ GÃ¼nlÃ¼k limit doldu!",notify_topic:"Konu girin.",notify_success:"BaÅŸarÄ±lÄ±!",notify_error:"Hata oluÅŸtu.",notify_copied:"KopyalandÄ±.",notify_login_required:"LÃ¼tfen giriÅŸ yapÄ±n."},
      en: {nav_home:"Home",nav_apps:"Apps",nav_platform:"Platform",nav_about:"About",nav_faq:"FAQ",nav_contact:"Contact",login:"LOGIN",logout:"LOGOUT",coming_soon:"SOON",select_platform:"Select Platform",important_info:"Important",about_title:"About Us",faq_title:"FAQ",contact_title:"Contact",modal_subtitle:"Generate content",remaining_rights:"Remaining",topic_label:"Topic",topic_placeholder:"E.g. Football",generate_btn:"GENERATE",seo_score:"SEO",notify_limit:"ðŸŒ™ Daily limit reached!",notify_topic:"Enter topic.",notify_success:"Success!",notify_error:"Error.",notify_copied:"Copied.",notify_login_required:"Please login."}
    };

    // --- Durum YÃ¶netimi ---
    // VarsayÄ±lan haklar 0. GiriÅŸ yapÄ±nca hafÄ±zadan okunacak.
    const state = { lang:'tr', currentPlatform:'youtube', userId:null, credits:{youtube:0, instagram:0, tiktok:0, x:0} };

    function notify(m){const e=document.getElementById('notification');e.innerText=m;e.style.display='block';setTimeout(()=>e.style.display='none',3500);}

    // --- Firebase AyarlarÄ± ---
    const firebaseConfig={apiKey:"AIzaSyDuRsR3gmen12f_I2EBbf0xND0dVWQGH_I",authDomain:"neosocial-rose.firebaseapp.com",projectId:"neosocial-rose",storageBucket:"neosocial-rose.firebasestorage.app",messagingSenderId:"909069196756",appId:"1:909069196756:web:db488838badee276f0ca41"};
    firebase.initializeApp(firebaseConfig);

    // --- KullanÄ±cÄ± GiriÅŸ KontrolÃ¼ ---
    firebase.auth().onAuthStateChanged(u=>{
      if(u){
        state.userId=u.uid;
        const dn=u.displayName?u.displayName.split(' ')[0].toUpperCase():translate('login');
        document.getElementById('user-display').innerText=dn;
        document.getElementById('login-btn').classList.add('hidden');
        document.getElementById('logout-btn').classList.remove('hidden');
        loadCreditsFromStorage(); // HaklarÄ± yÃ¼kle
      }else{
        state.userId=null;
        state.credits={youtube:0,instagram:0,tiktok:0,x:0}; // Ã‡Ä±kÄ±ÅŸ yapÄ±nca sÄ±fÄ±rla
        document.getElementById('user-display').innerText=translate('login');
        document.getElementById('login-btn').classList.remove('hidden');
        document.getElementById('logout-btn').classList.add('hidden');
        updateAllBadges();
      }
    });

    // --- GiriÅŸ / Ã‡Ä±kÄ±ÅŸ FonksiyonlarÄ± ---
    function loginWithGoogle(){const p=new firebase.auth.GoogleAuthProvider();firebase.auth().signInWithPopup(p).catch(e=>{console.error(e);notify('GiriÅŸ baÅŸarÄ±sÄ±z (AdBlock? Domain?): '+e.message);});}
    function logoutGoogle(){firebase.auth().signOut().then(()=>{notify('Ã‡Ä±kÄ±ÅŸ yapÄ±ldÄ±.');closeGenerator();}).catch(e=>console.error(e));}

    // --- Kredi/Hak YÃ¶netimi (LocalStorage) ---
    function loadCreditsFromStorage(){
      if(!state.userId) return;
      const today = new Date().toDateString();
      const storedDate = localStorage.getItem(`nsr_date_${state.userId}`);
      const storedCredits = localStorage.getItem(`nsr_credits_${state.userId}`);

      if(storedDate !== today){
        // Yeni GÃ¼n: HaklarÄ± 2 yap
        localStorage.setItem(`nsr_date_${state.userId}`, today);
        state.credits = {youtube:2, instagram:2, tiktok:2, x:2};
        localStorage.setItem(`nsr_credits_${state.userId}`, JSON.stringify(state.credits));
      } else {
        // AynÄ± GÃ¼n: KayÄ±tlÄ±yÄ± yÃ¼kle (Yoksa 2 ver)
        if(storedCredits) {
          try { state.credits = JSON.parse(storedCredits); } catch(e){ state.credits = {youtube:2, instagram:2, tiktok:2, x:2}; }
        } else {
          state.credits = {youtube:2, instagram:2, tiktok:2, x:2};
        }
      }
      updateAllBadges();
    }

    function saveCredits(){
      if(!state.userId) return;
      localStorage.setItem(`nsr_credits_${state.userId}`,JSON.stringify(state.credits));
    }

    function updateAllBadges(){
      Object.keys(state.credits).forEach(p=>{
        const b=document.getElementById(`badge-${p}`);
        if(b) b.innerText=`${state.credits[p]}/2`;
        const c=document.getElementById(`card-${p}`);
        if(c) {
          if(state.credits[p]<=0) c.classList.add('disabled'); else c.classList.remove('disabled');
        }
      });
    }

    // --- Dil ve Sayfa YÃ¶netimi ---
    function setLang(l){state.lang=l;document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));const btn=document.getElementById(`l-${l}`);if(btn)btn.classList.add('active');translatePage();}
    function translate(k){return translations[state.lang][k]||translations['tr'][k]||k;}
    function translatePage(){document.querySelectorAll('[data-translate]').forEach(e=>{const k=e.getAttribute('data-translate');e.innerHTML=translate(k);});document.querySelectorAll('[data-translate-placeholder]').forEach(e=>{const k=e.getAttribute('data-translate-placeholder');e.placeholder=translate(k);});}
    function showPage(p){document.querySelectorAll('.page-content').forEach(pg=>pg.classList.remove('active'));const t=document.getElementById(`page-${p}`);if(t)t.classList.add('active');window.scrollTo({top:0,behavior:'smooth'});}

    // --- Modal ve Ãœretim ---
    function openGenerator(p){
      if(!state.userId){notify(translate('notify_login_required'));return;}
      if(state.credits[p]<=0){notify(translate('notify_limit'));return;}
      state.currentPlatform=p;
      document.getElementById('modal-platform-title').innerText=p.toUpperCase();
      document.getElementById('modal-credit-badge').innerText=`${state.credits[p]}/2`;
      document.getElementById('modal-topic-input').value='';
      document.getElementById('modal-result-box').classList.add('hidden');
      document.getElementById('generator-modal').classList.add('active');
    }

    function closeGenerator(){document.getElementById('generator-modal').classList.remove('active');}

    function calculateSEO(t){let s=50;if(t.length>=40&&t.length<=80)s+=15;if(/[\u{1F600}-\u{1F64F}]/u.test(t))s+=10;if((t.match(/#/g)||[]).length>=2)s+=15;return Math.min(s,100);}
    function getSEOClass(s){if(s>=80)return'seo-excellent';if(s>=60)return'seo-good';if(s>=40)return'seo-average';return'seo-poor';}

    async function generateContent(){
      if(!state.userId){notify(translate('notify_login_required'));return;}
      if(state.credits[state.currentPlatform]<=0){notify(translate('notify_limit'));return;}
      
      const tp=document.getElementById('modal-topic-input').value.trim();
      if(!tp){notify(translate('notify_topic'));return;}
      
      const btn=document.getElementById('modal-gen-btn');
      btn.disabled=true;
      btn.innerHTML='<i class="fas fa-spinner fa-spin"></i> ...';

      try{
        const apiUrl = window.location.hostname === 'localhost' ? 'http://localhost:3000/api/generate' : '/api/generate';
        const r=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({topic:tp,platform:state.currentPlatform,lang:state.lang})});
        
        if(!r.ok) throw new Error('API Error');
        const d=await r.json();
        
        if(d.text){
          state.credits[state.currentPlatform]--;
          saveCredits();
          updateAllBadges();
          
          document.getElementById('modal-credit-badge').innerText=`${state.credits[state.currentPlatform]}/2`;
          document.getElementById('modal-result-text').innerText=d.text;
          document.getElementById('modal-char-count').innerText=`${d.text.length} karakter`;
          
          const sc=calculateSEO(d.text);
          const sb=document.getElementById('seo-score-badge');
          sb.innerText=`${sc}/100`;
          sb.className=`seo-badge ${getSEOClass(sc)}`;
          
          document.getElementById('modal-result-box').classList.remove('hidden');
          notify(translate('notify_success'));
        }
      }catch(e){
        console.error(e);
        notify(translate('notify_error'));
      }finally{
        btn.disabled=false;
        btn.innerHTML=translate('generate_btn');
      }
    }

    function copyModalContent(){
      const t=document.getElementById('modal-result-text').innerText;
      navigator.clipboard.writeText(t).then(()=>notify(translate('notify_copied')));
    }

    // --- Olay Dinleyicileri (Event Listeners) ---
    const ab=document.getElementById('nav-apps-btn'),ad=document.getElementById('nav-apps-dd');if(ab&&ad){ab.addEventListener('mouseenter',()=>ad.style.display='block');ab.parentElement.addEventListener('mouseleave',()=>ad.style.display='none');}
    const pb=document.getElementById('nav-platform-btn'),pd=document.getElementById('nav-platform-dd');if(pb&&pd){pb.addEventListener('mouseenter',()=>pd.style.display='block');pb.parentElement.addEventListener('mouseleave',()=>pd.style.display='none');}

    document.getElementById('generator-modal').addEventListener('click', function(e) {
      if (e.target === this) closeGenerator();
    });

    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') closeGenerator();
    });

    window.addEventListener('DOMContentLoaded', () => {
      translatePage();
    });
  </script>
</body>
</html>
