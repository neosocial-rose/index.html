<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoSocial_Rose</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #ffffff; color: #0f172a; overflow-x: hidden; }
        .glass-nav { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid #f1f5f9; }
        .nav-link { font-size: 11px; font-weight: 800; text-transform: uppercase; color: #64748b; cursor: pointer; transition: 0.2s; display: flex; align-items: center; height: 100%; }
        .nav-link:hover { color: #f43f5e; }
        
        /* Dropdown Düzeltmeleri */
        .menu-dropdown { 
            display: none; 
            position: absolute; 
            top: 100%; 
            left: 50%;
            transform: translateX(-50%);
            background: white; 
            border: 1px solid #f1f5f9; 
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
            border-radius: 12px; 
            padding: 16px; 
            min-width: 220px; 
            z-index: 100;
            margin-top: 5px;
        }
        .group:hover .menu-dropdown { display: block; animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateX(-50%) translateY(-10px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }

        .lang-btn { font-size: 10px; font-weight: 700; padding: 6px 12px; border-radius: 6px; cursor: pointer; border: 1px solid #e2e8f0; transition: all 0.2s; }
        .lang-btn.active { background: #f43f5e; color: white; border-color: #f43f5e; }
        .hero-box { border: 2px dashed #e2e8f0; border-radius: 1.5rem; display: flex; align-items: center; justify-content: center; background: #f8fafc; }
        .ad-box { background: #fffbeb; border: 1px solid #fef3c7; border-radius: 1rem; }
        .modal-overlay { background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); }
        .hidden-section { display: none; }
        #notification { display: none; position: fixed; bottom: 20px; right: 20px; z-index: 200; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div id="notification" class="bg-slate-900 text-white px-6 py-3 rounded-xl shadow-2xl text-xs font-bold uppercase tracking-widest"></div>

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 glass-nav h-20">
        <div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-between">
            <div class="flex items-center gap-10 h-full">
                <h1 class="text-xl font-black tracking-tighter cursor-pointer" onclick="showView('home')">NEOSOCIAL<span class="text-rose-500">_ROSE</span></h1>
                
                <div class="hidden lg:flex items-center space-x-8 h-full">
                    <span onclick="showView('home')" class="nav-link">Anasayfa</span>
                    
                    <div class="relative group h-full flex items-center">
                        <span class="nav-link" onclick="showView('apps')">Uygulamalar</span>
                        <div class="menu-dropdown">
                            <div class="flex justify-around items-center">
                                <i class="fab fa-youtube text-red-600 text-2xl hover:scale-110 transition cursor-pointer"></i>
                                <i class="fab fa-instagram text-pink-600 text-2xl hover:scale-110 transition cursor-pointer"></i>
                                <i class="fab fa-tiktok text-black text-2xl hover:scale-110 transition cursor-pointer"></i>
                                <i class="fab fa-twitter text-blue-400 text-2xl hover:scale-110 transition cursor-pointer"></i>
                            </div>
                        </div>
                    </div>

                    <div class="relative group h-full flex items-center">
                        <span class="nav-link" onclick="showView('platform')">Platform</span>
                        <div class="menu-dropdown text-center">
                            <span class="text-[11px] font-black text-slate-500 uppercase tracking-widest italic">Gemini kullanılıyor</span>
                        </div>
                    </div>

                    <div class="relative group h-full flex items-center">
                        <span class="nav-link" onclick="showView('production')">Üretim Yeri</span>
                        <div class="menu-dropdown grid grid-cols-1 gap-1">
                            <button onclick="setMode('youtube', 'title')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">YouTube Başlık</button>
                            <button onclick="setMode('youtube', 'tag')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">YouTube Hashtag</button>
                            <button onclick="setMode('instagram', 'title')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">Instagram Başlık</button>
                            <button onclick="setMode('instagram', 'tag')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">Instagram Hashtag</button>
                            <button onclick="setMode('tiktok', 'title')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">TikTok Başlık</button>
                            <button onclick="setMode('tiktok', 'tag')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">TikTok Hashtag</button>
                            <button onclick="setMode('x', 'title')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">X Başlık</button>
                            <button onclick="setMode('x', 'tag')" class="text-[10px] font-black uppercase text-left py-2 px-3 rounded-md hover:bg-rose-50 hover:text-rose-500 transition">X Hashtag</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex items-center gap-4">
                <button onclick="login()" class="flex items-center gap-2 bg-white border border-slate-200 px-5 py-2.5 rounded-xl hover:shadow-lg transition transform active:scale-95">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-4 h-4">
                    <span class="text-[10px] font-black uppercase text-slate-700">Google ile Giriş</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Dil ve Açıklama -->
    <header id="page-header" class="pt-32 pb-12 px-4 bg-slate-50 border-b border-slate-100">
        <div class="max-w-7xl mx-auto flex flex-col items-center">
            <div class="flex flex-wrap justify-center gap-3 mb-10">
                <button onclick="setLang('tr')" id="l-tr" class="lang-btn active">Türkçe</button>
                <button onclick="setLang('en')" id="l-en" class="lang-btn">English</button>
                <button onclick="setLang('fr')" id="l-fr" class="lang-btn">Français</button>
                <button onclick="setLang('de')" id="l-de" class="lang-btn">Deutsch</button>
                <button onclick="setLang('es')" id="l-es" class="lang-btn">Español</button>
                <button onclick="setLang('pt')" id="l-pt" class="lang-btn">Português</button>
            </div>
            <p id="desc-text" class="text-center text-slate-500 text-sm font-semibold max-w-3xl leading-relaxed opacity-80">
                Yapay zekâ destekli platform; YouTube, Instagram, TikTok ve X için güncel başlık ve hashtag önerileri üretir. İçerik üreticilerin daha bilinçli kararlar almasına yardımcı olmak için tasarlanmıştır.
            </p>
        </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto w-full px-4 py-16">
        
        <!-- View: Anasayfa -->
        <div id="view-home">
            <section class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-20 h-80">
                <div class="hero-box"><span class="text-[10px] font-black text-slate-300 uppercase tracking-[0.3em]">HERO GÖRSELİ</span></div>
                <div class="ad-box flex flex-col items-center justify-center p-8 text-center shadow-inner">
                    <span class="text-[9px] font-black text-amber-500 uppercase tracking-widest mb-6 bg-amber-50 px-3 py-1 rounded">Google Sponsorlu Alan</span>
                    <div class="w-full h-full border-2 border-amber-100 border-dashed rounded-xl flex items-center justify-center italic text-amber-300 text-xs font-bold">REKLAM GÖSTERİMİ</div>
                </div>
                <div class="hero-box"><span class="text-[10px] font-black text-slate-300 uppercase tracking-[0.3em]">HERO1 GÖRSELİ</span></div>
            </section>
        </div>

        <!-- View: Uygulamalar -->
        <div id="view-apps" class="hidden-section mb-20 text-center py-20 bg-slate-50 rounded-[3rem] border border-slate-100">
            <h2 class="text-xs font-black uppercase text-slate-400 mb-12 tracking-[0.4em]">Desteklenen Platformlar</h2>
            <div class="flex flex-wrap justify-center items-center gap-16">
                <div class="flex flex-col items-center gap-4"><i class="fab fa-youtube text-red-600 text-7xl"></i><span class="text-[10px] font-black">YOUTUBE</span></div>
                <div class="flex flex-col items-center gap-4"><i class="fab fa-instagram text-pink-600 text-7xl"></i><span class="text-[10px] font-black">INSTAGRAM</span></div>
                <div class="flex flex-col items-center gap-4"><i class="fab fa-tiktok text-black text-7xl"></i><span class="text-[10px] font-black">TIKTOK</span></div>
                <div class="flex flex-col items-center gap-4"><i class="fab fa-twitter text-blue-400 text-7xl"></i><span class="text-[10px] font-black">X / TWITTER</span></div>
            </div>
        </div>

        <!-- View: Platform -->
        <div id="view-platform" class="hidden-section mb-20 text-center py-32 bg-slate-900 rounded-[3rem] text-white">
            <i class="fas fa-brain text-rose-500 text-5xl mb-6"></i>
            <h2 class="text-3xl font-black uppercase tracking-tighter">Gemini Pro AI kullanılıyor</h2>
            <p class="text-slate-400 text-xs mt-4 font-bold uppercase tracking-widest">En güncel ve hızlı yapay zeka altyapısı</p>
        </div>

        <!-- View: Üretim Yeri -->
        <div id="view-production">
            <section class="max-w-2xl mx-auto bg-white border border-slate-200 rounded-[3rem] p-10 shadow-2xl mb-20 relative">
                <div class="flex items-center justify-between mb-10 border-b border-slate-50 pb-6">
                    <h3 id="current-mode-title" class="text-sm font-black uppercase text-slate-800 tracking-tighter">YOUTUBE BAŞLIK ÜRETİMİ</h3>
                    <div class="text-[10px] font-black text-rose-500 bg-rose-50 px-4 py-1.5 rounded-full" id="credit-count">HAK: 2 / 2</div>
                </div>

                <div class="space-y-8">
                    <div>
                        <label class="text-[10px] font-black uppercase text-slate-400 mb-3 block tracking-widest">İçerik Konusu Giriniz</label>
                        <input type="text" id="topicInput" class="w-full border-2 border-slate-100 p-5 rounded-2xl outline-none focus:border-rose-500 font-bold text-slate-900 transition-all placeholder:text-slate-300" placeholder="Örn: Evde spor yapmanın avantajları">
                    </div>

                    <button onclick="generate()" id="genBtn" class="w-full bg-slate-900 text-white py-5 rounded-2xl font-black uppercase tracking-[0.2em] hover:bg-slate-800 transition transform active:scale-[0.98] shadow-2xl shadow-slate-300">
                        ÜRETİMİ BAŞLAT
                    </button>

                    <div id="result-box" class="hidden animate-pulse-once">
                        <div class="p-6 bg-slate-50 border-2 border-slate-100 rounded-2xl relative group">
                            <p id="result-text" class="text-base font-bold text-slate-800 font-mono break-words pr-10"></p>
                            <button onclick="copyResult()" class="absolute top-6 right-6 text-slate-400 hover:text-rose-500 transition scale-125"><i class="far fa-copy"></i></button>
                            <div id="validation-msg" class="mt-4 text-[10px] font-black text-rose-500 opacity-60 uppercase"></div>
                        </div>
                    </div>

                    <div class="text-center">
                        <span onclick="openAdModal()" class="text-[10px] font-black text-slate-400 uppercase cursor-pointer hover:text-rose-500 transition border-b border-slate-200 pb-1">Limit bitti mi? Reklam izleyerek +1 hak kazan</span>
                    </div>
                </div>
            </section>
        </div>

        <!-- Hero2 -->
        <div id="view-hero2">
            <section class="mb-20">
                <div class="hero-box w-full h-80"><span class="text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]">HERO2 GÖRSELİ (GENİŞ)</span></div>
            </section>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-500 py-20 px-4 mt-auto">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-16 text-[10px] font-black uppercase">
            <div class="col-span-1 md:col-span-2">
                <h4 class="text-white text-xl mb-6 tracking-tighter">NEOSOCIAL<span class="text-rose-500">_ROSE</span></h4>
                <p class="normal-case font-bold opacity-50 leading-relaxed max-w-sm mb-8 text-xs">
                    Yaratıcıların daha bilinçli içerikler üretmesine yardımcı olmak için geliştirildik. Yapay zekâ destekli sistemimiz politikaya uygun içerikler üretir.
                </p>
                <p class="opacity-30">© 2026 NeoSocial_Rose Global Platform</p>
            </div>
            <div class="space-y-5">
                <span class="text-slate-200 block text-xs tracking-widest">KURUMSAL</span>
                <a href="#" class="block hover:text-white transition opacity-70">Hakkımızda</a>
                <a href="#" class="block hover:text-white transition opacity-70">Basın Odası</a>
                <a href="#" class="block hover:text-white transition opacity-70">Kariyer</a>
            </div>
            <div class="space-y-5">
                <span class="text-slate-200 block text-xs tracking-widest">DESTEK MERKEZİ</span>
                <a href="#" class="block hover:text-white transition opacity-70">Sıkça Sorulan Sorular</a>
                <a href="#" class="block hover:text-white transition opacity-70">Güvenlik ve Yasal</a>
                <a href="#" class="block hover:text-white transition opacity-70">İletişim Kanalları</a>
            </div>
        </div>
        <div class="max-w-7xl mx-auto mt-16 pt-10 border-t border-slate-800 text-center">
            <p class="text-[9px] opacity-30 normal-case max-w-3xl mx-auto leading-loose italic">
                Öneriler yapay zekâ tarafından üretilir. Sonuçlar değişiklik gösterebilir. Bu platform YouTube, Instagram, TikTok, X veya Google ile resmî bağlantılı değildir. Kişisel verileriniz asla kaydedilmez.
            </p>
        </div>
    </footer>

    <!-- Ad Modal -->
    <div id="ad-modal" class="fixed inset-0 z-[100] modal-overlay hidden items-center justify-center p-4">
        <div class="bg-white border border-slate-200 p-10 rounded-[2.5rem] max-w-sm w-full text-center shadow-[0_50px_100px_-20px_rgba(0,0,0,0.5)]">
            <div class="w-16 h-16 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-play text-rose-500 text-2xl ml-1"></i>
            </div>
            <h3 class="text-xl font-black text-slate-900 mb-3" id="ad-title">EK ÜRETİM HAKKI</h3>
            <p class="text-slate-500 text-xs font-bold leading-relaxed mb-8 uppercase opacity-60" id="ad-desc">Reklam tamamlandıktan sonra +1 üretim tanımlanacaktır.</p>
            <button onclick="simulateAd()" id="ad-start-btn" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-black uppercase tracking-widest hover:bg-rose-500 transition shadow-xl">Reklamı Başlat</button>
            <button onclick="closeAdModal()" class="mt-6 text-[10px] font-black text-slate-300 uppercase hover:text-slate-900 tracking-widest">İşlemi İptal Et</button>
        </div>
    </div>

    <script>
        const i18n = {
            tr: "Yapay zekâ destekli platform; YouTube, Instagram, TikTok ve X için güncel başlık ve hashtag önerileri üretir. İçerik üreticilerin daha bilinçli kararlar almasına yardımcı olmak için tasarlanmıştır.",
            en: "AI-powered platform; generates up-to-date title and hashtag suggestions for YouTube, Instagram, TikTok, and X. Designed to help content creators make more informed decisions.",
            fr: "Plateforme alimentée par l'IA ; génère des suggestions de titres et de hashtags pour YouTube, Instagram, TikTok et X. Conçue pour aider les créateurs.",
            de: "KI-gestützte Plattform; generiert Titel- und Hashtag-Vorschläge für YouTube, Instagram, TikTok und X. Entwickelt für Ersteller.",
            es: "Plataforma impulsada por IA; genera sugerencias de títulos y hashtags para YouTube, Instagram, TikTok y X. Diseñada para creadores.",
            pt: "Plataforma movida a IA; gera sugestões de títulos e hashtags para YouTube, Instagram, TikTok e X. Projetada para criadores."
        };

        let state = {
            lang: 'tr',
            platform: 'youtube',
            type: 'title',
            credits: JSON.parse(localStorage.getItem('nsr_credits') || '{"youtube":{"title":2,"tag":2},"instagram":{"title":2,"tag":2},"tiktok":{"title":2,"tag":2},"x":{"title":2,"tag":2}}')
        };

        function notify(msg) {
            const el = document.getElementById('notification');
            el.innerText = msg; el.style.display = 'block';
            setTimeout(() => { el.style.display = 'none'; }, 3000);
        }

        function showView(viewName) {
            const views = ['view-home', 'view-apps', 'view-platform', 'view-production', 'view-hero2'];
            views.forEach(id => document.getElementById(id).style.display = 'none');

            if(viewName === 'home') {
                ['view-home', 'view-production', 'view-hero2'].forEach(id => document.getElementById(id).style.display = 'block');
            } else {
                document.getElementById('view-' + viewName).style.display = 'block';
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function setLang(l) {
            state.lang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('l-'+l).classList.add('active');
            document.getElementById('desc-text').innerText = i18n[l];
        }

        function setMode(p, t) {
            state.platform = p; state.type = t;
            document.getElementById('current-mode-title').innerText = `${p} ${t === 'title' ? 'başlık' : 'hashtag'} üretimi`.toUpperCase();
            updateUI(); showView('production');
        }

        function updateUI() {
            document.getElementById('credit-count').innerText = `HAK: ${state.credits[state.platform][state.type]} / 2`;
        }

        function openAdModal() {
            document.getElementById('ad-modal').classList.remove('hidden');
            document.getElementById('ad-modal').classList.add('flex');
        }

        function closeAdModal() {
            document.getElementById('ad-modal').classList.add('hidden');
            document.getElementById('ad-modal').classList.remove('flex');
        }

        function simulateAd() {
            const btn = document.getElementById('ad-start-btn');
            btn.disabled = true; btn.innerText = "YÜKLENİYOR...";
            setTimeout(() => {
                state.credits[state.platform][state.type]++;
                localStorage.setItem('nsr_credits', JSON.stringify(state.credits));
                updateUI(); closeAdModal();
                btn.disabled = false; btn.innerText = "Reklamı Başlat";
                notify("TEBRİKLER! +1 HAK TANIMLANDI.");
            }, 3000);
        }

        async function generate() {
            if(state.credits[state.platform][state.type] <= 0) {
                notify("HAKKINIZ BİTTİ. REKLAM İZLEYİNİZ.");
                return openAdModal();
            }

            const topic = document.getElementById('topicInput').value.trim();
            if(!topic) return notify("LÜTFEN KONU GİRİNİZ.");

            const btn = document.getElementById('genBtn');
            btn.disabled = true; btn.innerText = "YAPAY ZEKA ÇALIŞIYOR...";

            try {
                const res = await fetch('/api/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ topic, platform: state.platform, type: state.type, lang: state.lang })
                });

                const data = await res.json();
                if(!res.ok) throw new Error(data.error);

                state.credits[state.platform][state.type]--;
                localStorage.setItem('nsr_credits', JSON.stringify(state.credits));
                updateUI();

                document.getElementById('result-text').innerText = data.result;
                document.getElementById('validation-msg').innerText = state.type === 'title' ? `UZUNLUK: ${data.result.length} KARAKTER (ZORUNLU 40)` : `UZUNLUK: ${data.result.length} KARAKTER (MAX 59)`;
                document.getElementById('result-box').classList.remove('hidden');
            } catch(e) {
                notify(e.message);
            } finally {
                btn.disabled = false; btn.innerText = "ÜRETİMİ BAŞLAT";
            }
        }

        function copyResult() {
            navigator.clipboard.writeText(document.getElementById('result-text').innerText);
            notify("SONUÇ KOPYALANDI!");
        }

        showView('home');
        updateUI();
    </script>
</body>
</html>
